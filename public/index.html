<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quiz de Quest√µes</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Overlay do V√≠deo (se voc√™ o manteve) -->
  <div id="easterEggOverlay" style="display: none;">
    <video id="easterEggVideo" src="/video/parabens.mp4" loop></video>
    <p id="unmuteText" style="display:none;"></p>
    <!-- O bot√£o fechar foi removido para o redirecionamento do WhatsApp -->
  </div>

  <!-- Port√£o de Login do Utilizador -->
  <div id="userGate">
    <div class="user-select-container">
      <h1>Quem √© voc√™?</h1>
      <div class="user-options">
        <div class="user-card" id="userIthalo" data-user="ithalo">
          <div class="user-photo-hover">
             <img src="https://placehold.co/120x120/0984e3/FFF?text=I" alt="Foto Ithalo">
          </div>
          <span>Ithalo</span>
        </div>
        <div class="user-card" id="userMatheus" data-user="matheus">
          <div class="user-photo-hover">
             <img src="https://placehold.co/120x120/2d3436/FFF?text=M" alt="Foto Matheus">
          </div>
          <span>Matheus</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Conte√∫do Principal (come√ßa escondido) -->
  <div id="mainContent" style="display: none;">

    <!-- Barra de Navega√ß√£o -->
    <nav class="main-nav">
      <div class="nav-container">
        <div class="nav-brand">Simulado OGMO</div>
        <div class="nav-links">
          <a href="#" id="navSimulado">Simulado</a>
          <a href="#" id="navDesempenho">Desempenho</a>
        </div>
        <div id="currentUserDisplay" class="nav-user">
          Usu√°rio: <span>...</span>
        </div>
      </div>
    </nav>

    <!-- Container do Quiz -->
    <div class="container" id="quizContainer">
      <h1>Marfori Corporations</h1>
      <h2 class="subtitle">Simulado OGMO - CAPATAZIA</h2>

      <div class="top-area">
        <!-- Painel da Esquerda (Sele√ß√£o) -->
        <div class="folder-panel" id="folderPanel">
          <div style="font-weight:600; margin-bottom:8px; color:#27455a;" data-translate-key="selectSubject">Selecione a mat√©ria / parte:</div>
          <div id="foldersLoading" style="color:var(--muted)" data-translate-key="loading">Carregando...</div>
          <div id="foldersRoot" style="display:none"></div>
        </div>

        <!-- Painel da Direita (Controlos) -->
        <div class="controls">
          <label data-translate-key="selectedLabel">Mat√©ria selecionada</label>
          <div id="selectedSummary" class="select-summary" data-translate-key="noneSelected">Nenhuma selecionada</div>
          <label for="questionCount" data-translate-key="questionCountLabel">Quantidade de quest√µes</label>
          <input type="number" id="questionCount" min="1" placeholder="Ex: 5">
          <div class="button-row">
            <button id="startBtn" data-translate-key="startButton">Iniciar Quiz</button>
            <button id="clearSelection" class="button-ghost" data-translate-key="clearButton">Limpar</button>
          </div>
        </div>
      </div>

      <!-- √Årea do Quiz (vazia, preenchida por JS) -->
      <div id="quiz" class="quiz-area" style="display:none;"></div>

      <!-- Sec√ß√£o de PDFs -->
      <div class="pdf-section">
        <h3 style="margin:0 0 10px 0; color:#27455a;" data-translate-key="pdfTitle">üìö Conte√∫dos em PDF</h3>
        <ul id="pdfList" class="pdf-list">
          <li data-translate-key="loadingPDFs">Carregando PDFs...</li>
        </ul>
      </div>
    </div>
    
    <!-- Container do Desempenho (escondido) -->
    <div class="container" id="desempenhoContainer" style="display: none;">
      <h2>Seu Desempenho Geral</h2>
      <p>Aqui aparecer√£o suas estat√≠sticas de todos os simulados.</p>
      
      <div class="charts-container" style="margin: 24px 0;">
        <div class="chart-box" style="max-width: 350px;">
          <h3 style="text-align:center;">Desempenho Geral (Total)</h3>
          <canvas id="totalPizzaChart"></canvas>
        </div>
        <div class="chart-box" style="max-width: 500px;">
          <h3 style="text-align:center;">T√≥picos com Mais Erros (Total)</h3>
          <canvas id="totalBarChart"></canvas>
        </div>
      </div>
    </div>
    
  </div> <!-- Fim do #mainContent -->


  <!-- ============================================= -->
  <!-- ===== LISTA DE SCRIPTS CORRIGIDA ===== -->
  <!-- ============================================= -->
  
  <!-- 1. Fun√ß√µes Puras (Cl√°ssico) -->
  <script src="js/helpers.js"></script>
   <script src="js/translator.js"></script>
  <!-- 2. Fun√ß√µes de UI (Cl√°ssico) -->
  <script src="js/ui.js"></script>
  
  <!-- 3. L√≥gica do Quiz (Cl√°ssico) -->
  <script src="js/main.js"></script>
  
  <!-- 4. L√≥gica do App (M√≥dulo - Ponto de Entrada) -->
  <script type="module" src="js/app.js"></script>

</body>
</html>

